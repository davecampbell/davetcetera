# Obsidian WebHTML Export → GitHub Pages Setup

## Overview
This setup publishes an Obsidian vault to GitHub Pages using the WebHTML Export plugin by Mathan George.

**Site URL:** https://davetcetera.daveccampbell.com  
**GitHub Repo:** https://github.com/davecampbell/davetcetera  
**Export Folder:** ~/davetcetera (outside Obsidian vault)

---

## Initial Setup (One-time)

### 1. Obsidian Plugin Configuration
- Plugin: WebHTML Export by Mathan George
- **Important:** Set main page name to "INDEX" (not "HOME")
  - This creates `index.html` which GitHub Pages requires
- Export location: `/Users/dave/davetcetera`

### 2. Initialize Git Repository
```bash
cd ~/davetcetera
git init
```

### 3. Create GitHub Actions Workflow
Created `.github/workflows/deploy.yml`:
```yaml
name: Deploy to GitHub Pages

on:
  push:
    branches: [ main ]

permissions:
  contents: read
  pages: write
  id-token: write

concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Setup Pages
        uses: actions/configure-pages@v4
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: '.'
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

### 4. Create CNAME File for Custom Domain
```bash
echo "davetcetera.daveccampbell.com" > CNAME
```

### 5. Create .gitignore
```bash
cat > .gitignore << 'EOG'
.DS_Store
Thumbs.db
*.tmp
EOG
```

### 6. Initial Commit
```bash
git add .
git commit -m "Initial commit - WebHTML Export site"
```

### 7. Create GitHub Repository
- Repository name: `davetcetera`
- Created empty repo (no README, no .gitignore)
- Connected local repo:
```bash
git remote add origin https://github.com/davecampbell/davetcetera.git
git branch -M main
git push -u origin main
```

### 8. Configure GitHub Pages
1. Repo Settings → Pages
2. Build and deployment:
   - Source: **GitHub Actions**
3. Custom domain: `davetcetera.daveccampbell.com`
4. Enable **Enforce HTTPS** (after DNS verification)

### 9. Configure DNS
Added CNAME record at domain registrar:
- **Type:** CNAME
- **Name/Host:** davetcetera
- **Value/Target:** davecampbell.github.io
- **TTL:** 3600 (or default)

---

## Daily Workflow

### Publishing Updates

1. **Export from Obsidian**
   - Use WebHTML Export plugin
   - Verify INDEX is set as main page
   - Export to `/Users/dave/davetcetera`

2. **Commit and Push Changes**
```bash
   cd ~/davetcetera
   git add .
   git commit -m "Update content"
   git push
```

3. **Automatic Deployment**
   - GitHub Actions runs automatically on push
   - Deployment takes 1-2 minutes
   - Site updates at https://davetcetera.daveccampbell.com

### Checking Deployment Status
- Go to repo → **Actions** tab
- Look for green checkmark (success) or red X (failure)

---

## Important Notes

### Critical: INDEX vs HOME
- **Always use INDEX as main page name in Obsidian**
- GitHub Pages requires `index.html` as the homepage
- If you accidentally change it back to HOME, the site will 404

### Repository Structure
```
davetcetera/
├── .github/
│   └── workflows/
│       └── deploy.yml
├── .gitignore
├── CNAME
├── index.html (generated by WebHTML Export)
├── items/ (exported notes)
├── logs/ (exported notes)
└── site-lib/ (CSS, JS, fonts, etc.)
```

### Manual Control
- You control when content is published via `git push`
- No automatic sync from Obsidian
- Review changes before pushing

---

## Troubleshooting

### Site shows 404
- Check that main page is named INDEX in Obsidian
- Verify `index.html` exists in repo root
- Check GitHub Actions completed successfully

### Custom domain not working
- Verify CNAME record: `dig davetcetera.daveccampbell.com`
- Check GitHub Pages → Custom domain is set
- Wait for SSL certificate (5-10 minutes after DNS verification)

### Changes not appearing
- Check Actions tab for deployment status
- Hard refresh browser (Cmd+Shift+R)
- Clear browser cache if needed

---

## URLs
- **Production:** https://davetcetera.daveccampbell.com
- **GitHub:** https://davecampbell.github.io/davetcetera/ (redirects to custom domain)
- **Repository:** https://github.com/davecampbell/davetcetera

---

*Last updated: February 13, 2026*
